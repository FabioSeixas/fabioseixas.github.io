{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./src/styles.scss?dd78","webpack:///./src/terminal.js"],"names":["banner","helpText","projectsInfo","cassavaPy","repository","language","description","emergEconRPG","projectList","Object","keys","reduce","result","key","concat","join","projects","aboutMe","contactInfo","email","linkedin","github","contactList","contactText","openContact","window","open","browser","current","tree","location","filename","type","content","fix","str","trim","replace","setCurrent","dir","parts","split","pop","found","filter","iter","find","ls","fileCount","length","directoryCount","status","maxlen","Math","max","map","n","list","padEnd","cat","foundFile","cwd","cd","load","t","terminal","prompt","promptWaiting","commands","help","about","resumeBuffer","rest","string","clear","contact","document","addEventListener","createOptions","opts","assign","tickrate","buflen","createElement","root","el","contentEditable","spellcheck","value","appendChild","setSelectionRange","input","focus","createTextRange","range","collapse","moveEnd","moveStart","select","getFontSize","element","parseInt","getComputedStyle","getPropertyValue","renderer","onrender","lastTick","tick","time","now","performance","delta","requestAnimationFrame","printer","$element","buffer","len","min","val","splice","regex","RegExp","exec","console","log","JSON","stringify","toRemove","slice","index","scrollTop","scrollHeight","parser","onparsed","args","s","cmd","debug","executor","cb","e","warn","keyboard","parse","ignoreKey","code","ev","which","keyCode","keypress","bufferWaiting","shift","push","String","fromCharCode","keydown","preventDefault","busy","$root","querySelector","fontSize","width","offsetWidth","cwidth","round","output","_output","center","lines","line","padStart","append","print","execute","render","setTimeout","kbd"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*!\n * AnderShell - Just a small CSS demo\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport './src/styles.scss';\nimport { terminal } from './src/terminal.js';\n\n// Banner text\nconst banner = `\nCopyright (c) 2014 Anders Evenrud <andersevenrud@gmail.com>\n\n  Hello, I'm Fábio, a software developer from Brazil.\n  Type \"help\" to know what you can do here.\n`;\n\n// Help text\nconst helpText = `\nhelp             This output\nabout            Breaf introduction of your host\ncontact          Prints contact information\ncontact <key>    Opens up relevant contact link\nclear            Clears the display \nprojects         Summary of my projects`\n// ls               Lists files\n// cwd              Lists current directory\n// cd <dir>         Enters directory\n// cat <filename>    Lists file contents\nconst projectsInfo = {\n  cassavaPy: {\n    repository: \"https://github.com/FabioSeixas/CassavaPy\",\n    language: \"python\",\n    description: \"A module to write, run and get outputs from DSSAT-Manihot model\"\n  },\n  emergEconRPG: {\n    repository: \"https://github.com/FabioSeixas/emergEconRPG\",\n    language: \"C#\",\n    description: 'An implementation of \"Emergent Economies for Role Playing Games\"'\n  }\n}\n\nconst projectList = Object.keys(projectsInfo)\n  .reduce((result, key) => result.concat([`${key}\\n - repository: ${projectsInfo[key].repository}\\n - language: ${projectsInfo[key].language}\\n - description: ${projectsInfo[key].description}`]), [])\n  .join('\\n\\n');\n\nconst projects = `\n${projectList}\n`\nconst aboutMe = `\nThey call me Fábio\nI'm 28 years old\nI'm from Bahia, Brazil\nI have a daughter and she is seven\nMy background is on Agricultural Engineering\nI started as a professional web developer in Nov 2020\nMy first company was Badico Cloud\nI learned a ton and made very good friends there\nNow I'm focused on mobile development with React Native\nI use javascript stack most part of the time\nBut I am really curious about computing in general\nWhich makes my interests really broad\n`;\n// Contact texts\nconst contactInfo = {\n  email: 'dev.fabioseixas@gmail.com',\n  linkedin: 'https://www.linkedin.com/in/fabioseixas',\n  github: 'https://github.com/fabioseixas'\n};\n\nconst contactList = Object.keys(contactInfo)\n  .reduce((result, key) => result.concat([`${key} - ${contactInfo[key]}`]), [])\n  .join('\\n');\n\nconst contactText = `\n\n${contactList}\n\nUse ex. 'contact linkedin' to open the links.`;\n\nconst openContact = key => window.open(key === 'email'\n  ? `mailto:${contactInfo[key]}`\n  : contactInfo[key]);\n\n// File browser\nconst browser = (function() {\n  let current = '/';\n\n  let tree = [{\n    location: '/',\n    filename: 'documents',\n    type: 'directory'\n  }, {\n    location: '/',\n    filename: 'AUTHOR',\n    type: 'file',\n    content: 'Anders Evenrud <andersevenrud@gmail.com>'\n  }];\n\n  const fix = str => str.trim().replace(/\\/+/g, '/') || '/';\n\n  const setCurrent = dir => {\n    if (typeof dir !== 'undefined') {\n      if (dir == '..') {\n        const parts = current.split('/');\n        parts.pop();\n        current = fix(parts.join('/'));\n      } else {\n        const found = tree.filter(iter => iter.location === current)\n          .find(iter => iter.filename === fix(dir));\n\n        if (found) {\n          current = fix(current + '/' + dir);\n        } else {\n          return `Directory '${dir}' not found in '${current}'`;\n        }\n      }\n\n      return `Entered '${current}'`;\n    }\n\n    return current;\n  };\n\n  const ls = () => {\n    const found = tree.filter(iter => iter.location === current);\n    const fileCount = found.filter(iter => iter.type === 'file').length;\n    const directoryCount = found.filter(iter => iter.type === 'directory').length;\n    const status = `${fileCount} file(s), ${directoryCount} dir(s)`;\n    const maxlen = Math.max(...found.map(iter => iter.filename).map(n => n.length));\n\n    const list = found.map(iter => {\n      return `${iter.filename.padEnd(maxlen + 1, ' ')} <${iter.type}>`;\n    }).join('\\n');\n\n    return `${list}\\n\\n${status} in ${current}`;\n  };\n\n  const cat = filename => {\n    const found = tree.filter(iter => iter.location === current);\n    const foundFile = found.find(iter => iter.filename === filename);\n\n    if (foundFile) {\n      return foundFile.content;\n    }\n\n    return `File '${filename}' not found in '${current}'`;\n  };\n\n  return {\n    cwd: () => setCurrent(),\n    cd: dir => setCurrent(fix(dir)),\n    cat,\n    ls\n  };\n})();\n\n///////////////////////////////////////////////////////////////////////////////\n// MAIN\n///////////////////////////////////////////////////////////////////////////////\n\nconst load = () => {\n  const t = terminal({\n    // prompt: () => `$ ${browser.cwd()} > `,\n    prompt: () => `> `,\n    promptWaiting: () => `...`,\n    banner,\n    commands: {\n      help: () => helpText,\n      about: () => aboutMe,\n      projects: () => projects,\n      resumeBuffer: (...rest) => {\n        return rest.map(string => !string ? ' ' : `${string} `).join('')\n      },\n      // cwd: () => browser.cwd(),\n      // cd: dir => browser.cd(dir),\n      // ls: () => browser.ls(),\n      // cat: file => browser.cat(file),\n      clear: () => t.clear(),\n      contact: (key) => {\n        if (key in contactInfo) {\n          openContact(key);\n          return `Opening ${key} - ${contactInfo[key]}`;\n        }\n\n        return contactText;\n      }\n    }\n  });\n};\n\ndocument.addEventListener('DOMContentLoaded', load);\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// extracted by mini-css-extract-plugin","/**\n * AnderShell - Just a small CSS demo\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// Creates initial options\nconst createOptions = opts => Object.assign({}, {\n  banner: 'Hello World',\n  prompt: () => '$ > ',\n  tickrate: 2000 / 60,\n  buflen: 4,\n  commands: {}\n}, opts || {});\n\n// Creates our textarea element\nconst createElement = root => {\n  const el = document.createElement('textarea');\n  el.contentEditable = true;\n  el.spellcheck = false;\n  el.value = '';\n\n  root.appendChild(el);\n\n  return el;\n};\n\n// Keys that must be ignored\n\n// Sets text selection range\nconst setSelectionRange = input => {\n  const length = input.value.length;\n\n  if (input.setSelectionRange) {\n    input.focus();\n    input.setSelectionRange(length, length);\n  } else if (input.createTextRange) {\n    const range = input.createTextRange();\n    range.collapse(true);\n    range.moveEnd('character', length);\n    range.moveStart('character', length);\n    range.select();\n  }\n};\n\n// Gets the font size of an element\nconst getFontSize = element => parseInt(window.getComputedStyle(element)\n  .getPropertyValue('font-size'), 10);\n\n// Creates the rendering loop\nconst renderer = (tickrate, onrender) => {\n  let lastTick = 0;\n\n  const tick = (time) => {\n    const now = performance.now();\n    const delta = now - lastTick;\n\n    if (delta > tickrate) {\n      lastTick = now - (delta % tickrate);\n      onrender();\n    }\n\n    window.requestAnimationFrame(tick);\n  };\n\n  return tick;\n};\n\n\n// Pronts buffer onto the textarea\nconst printer = ($element, buflen) => (buffer) => {\n  if (buffer.length > 0) {\n    const len = Math.min(buflen, buffer.length);\n    const val = buffer.splice(0, len);\n\n    const regex = new RegExp(/(\\.{3}\\n)|(\\n+\\.{3}\\n)|(\\n+\\.{3})$/)\n    while (regex.exec($element.value)) {\n      console.log('BEFORE: ', JSON.stringify($element.value))\n      const toRemove = regex.exec($element.value)\n      if (!toRemove) break;\n      $element.value = $element.value.slice(0, toRemove.index) +\n        $element.value.slice(toRemove.index + toRemove[0].length) + '\\n'\n      console.log('AFTER: ', JSON.stringify($element.value))\n    }\n\n    $element.value += val.join('')\n\n    setSelectionRange($element);\n    $element.scrollTop = $element.scrollHeight;\n\n    return true;\n  }\n\n  return false;\n};\n\n// Parses input\nconst parser = onparsed => (str) => {\n  if (str.length) {\n    const args = str.split(' ').map(s => s.trim());\n    const cmd = args.splice(0, 1)[0];\n    console.debug(cmd, args);\n    onparsed(cmd, ...args);\n  }\n};\n\n// Command executor\nconst executor = commands => (cmd, ...args) => cb => {\n  try {\n    commands[cmd]\n      ? cb(commands[cmd](...args) + '\\n')\n      : cb(`No such command '${cmd}'\\n`);\n  } catch (e) {\n    console.warn(e);\n    cb(`Exception: ${e}\\n`);\n  }\n};\n\n// Handle keyboard events\nconst keyboard = (parse) => {\n  let input = [];\n  const keys = { 8: 'backspace', 13: 'enter' };\n  const ignoreKey = code => code >= 33 && code <= 40;\n  const key = ev => keys[ev.which || ev.keyCode];\n\n  return {\n    keypress: (ev, bufferWaiting) => {\n      if (key(ev) === 'enter') {\n        if (bufferWaiting.length) {\n          parse('resumeBuffer ' + bufferWaiting.shift())\n          input = []\n          return\n        }\n        const str = input.join('').trim();\n        parse(str);\n        input = [];\n      } else if (key(ev) !== 'backspace') {\n        input.push(String.fromCharCode(ev.which || ev.keyCode));\n      }\n    },\n\n    keydown: (ev) => {\n      if (key(ev) === 'backspace') {\n        if (input.length > 0) {\n          input.pop();\n        } else {\n          ev.preventDefault();\n        }\n      } else if (ignoreKey(ev.keyCode)) {\n        ev.preventDefault();\n      }\n    }\n  };\n};\n\n// Creates the terminal\nexport const terminal = (opts) => {\n  let bufferWaiting = []; // What is waiting to be outputed \n  let buffer = []; // What will be output to display\n  let busy = false; // If we cannot type at the moment\n\n  const { prompt, promptWaiting, banner, commands, buflen, tickrate } = createOptions(opts);\n  const $root = document.querySelector('#terminal');\n  const $element = createElement($root);\n  const fontSize = getFontSize($element);\n  const width = $element.offsetWidth;\n  const cwidth = Math.round((width / fontSize) * 1.9); // FIXME: Should be calculated via canvas\n\n  const output = (_output, center) => {\n    let lines = _output.split(/\\n/);\n\n    if (center) {\n      lines = lines.map(line => line.length > 0\n        ? line.padStart(line.length + ((cwidth / 2) - (line.length / 2)), ' ')\n        : line);\n    }\n\n    if (bufferWaiting.length) {\n      const append = lines.join('\\n') + promptWaiting()\n      buffer = buffer.concat(append.split(''));\n      return\n\n    } else if (lines.length > 8) {\n      bufferWaiting = lines.slice(8, lines.length - 1)\n      lines = lines.slice(0, 8)\n      const append = lines.join('\\n') + '\\n' + promptWaiting()\n      buffer = buffer.concat(append.split(''));\n      return\n    }\n\n    const append = lines.join('\\n') + '\\n' + prompt();\n    buffer = buffer.concat(append.split(''));\n  };\n\n  const print = printer($element, buflen);\n  const execute = executor(commands);\n  const onrender = () => (busy = print(buffer));\n  const onparsed = (cmd, ...args) => execute(cmd, ...args)(output);\n  const render = renderer(tickrate, onrender);\n  const parse = parser(onparsed);\n  const focus = () => setTimeout(() => $element.focus(), 1);\n  const kbd = keyboard(parse);\n  const clear = () => ($element.value = '');\n  const input = ev => {\n    if (!busy) return kbd[ev.type](ev, bufferWaiting);\n    if (bufferWaiting.length) return kbd[ev.type](ev, bufferWaiting);\n    return ev.preventDefault();\n  }\n\n  $element.addEventListener('focus', () => setSelectionRange($element));\n  $element.addEventListener('blur', focus);\n  $element.addEventListener('keypress', input);\n  $element.addEventListener('keydown', input);\n  window.addEventListener('focus', focus);\n  $root.addEventListener('click', focus);\n  $root.appendChild($element);\n\n  render();\n  output(banner, false);\n  focus();\n\n  return { focus, parse, clear, print: output };\n};\n"],"sourceRoot":""}